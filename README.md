<p align="center"><a href="https://xxai.art"><img src="https://cdn.jsdelivr.net/gh/xxai-art/doc/logo.svg"/></a><br/><a href="https://xxai.art"><img src="https://cdn.jsdelivr.net/gh/xxai-art/doc/xxai.svg"/></a></p><p align="center"><a href="https://github.com/xxai-art/doc#readme"><img alt="I18N" src="https://cdn.jsdelivr.net/gh/wactax/img/t.svg"/></a>　<a href="https://groups.google.com/u/0/g/xxai-art"><img alt="Google Groups" src="https://cdn.jsdelivr.net/gh/wactax/img/g-groups.svg"/></a></p>

Тавсия дода мешавад, ки аввал nodejs, [direnv](https://direnv.net) , [bun](https://github.com/oven-sh/bun) насб кунед ва пас аз ворид шудан ба директория `direnv allow` ( [.envrc](https://github.com/xxai-art/doc/blob/main/.envrc) пас аз ворид шудан ба директория ба таври худкор иҷро карда мешавад).

Маънои ин аст: тарҷумаи чинӣ ба японӣ, кореягӣ, англисӣ, тарҷумаи англисӣ ба ҳама забонҳои дигар. Агар шумо танҳо хоҳед, ки хитоӣ ва англисиро дастгирӣ кунед, шумо метавонед танҳо `zh: en` нависед.

Маънои ин аст: тарҷумаи чинӣ ба японӣ, кореягӣ, англисӣ, тарҷумаи англисӣ ба ҳама забонҳои дигар. Агар шумо танҳо хоҳед, ки хитоӣ ва англисиро дастгирӣ кунед, шумо метавонед танҳо `zh: en` нависед.

* [рамзи пештара](https://github.com/xxai-art/web)
* [Бастаҳои забонӣ барои сайт дар маҷмӯъ](https://github.com/xxai-art/web/tree/main/i18n)
* [Бастаҳои забонӣ барои модулҳои воридшавӣ](https://github.com/wacpkg/user/tree/main/ui.i18n)
* [Ҳуҷҷатҳои бисёрзабони вебсайт](https://github.com/xxai-doc)

Забони барномасозии пештара [@w5/coffee_plus](http://npmjs.com/@w5/coffee_plus) мебошад, ки баъзе хусусиятҳоро дар асоси синтаксиси coffeescript илова мекунад, нигаред ба [./coffee_plus.md](./coffee_plus.md) .

## Интернационализатсияи вебсайтҳо ва ҳуҷҷатҳо

Дар 3 лоиҳаи зерин бунёд кунед

* [@w5/mdt](https://www.npmjs.com/package/@w5/mdt)

  Суффикс `.mdt` аст, шумо метавонед синтаксиси шабеҳи `<+ ./coffee_plus/import.js>` барои истинод ба файлҳои беруна истифода баред ва бо суффикси `.md` қайдкуниро тавлид кунед.

* [@w5/trmd](https://www.npmjs.com/package/@w5/trmd)

  Тарҷумаи Markdown кодҳо ва истинодҳоро тарҷума намекунад ва ҷумлаҳои тарҷумашударо кэш мекунад. Агар тарҷума тағир дода шуда бошад, аммо матни аслӣ тағир наёбад, дубора иҷро кардани он тағироти тарҷумаро такрор намекунад.

* [@w5/i18n](https://www.npmjs.com/package/@w5/i18n)

  Файлҳои забонӣ барои тарҷумаи вебсайтҳои `yaml` тавлидшуда.

### Дастурҳои автоматикунонии тарҷумаи ҳуҷҷатҳо

Ба анбори коди [xxai-art/doc](https://github.com/xxai-art/doc) нигаред

Тавсия дода мешавад, ки аввал nodejs, [direnv](https://direnv.net) , [bun](https://github.com/oven-sh/bun) насб кунед ва пас аз ворид шудан ба директория `direnv allow` ( [.envrc](https://github.com/xxai-art/doc/blob/main/.envrc) пас аз ворид шудан ба директория ба таври худкор иҷро карда мешавад).

Барои пешгирӣ кардани пойгоҳи бузурги код, ки ба садҳо забон тарҷума шудааст, ман барои ҳар як забон як пойгоҳи коди алоҳида эҷод кардам ва созмонеро барои нигоҳ доштани пойгоҳи кодҳо таъсис додам.

Муқаррар кардани тағирёбандаи муҳити зист `GITHUB_ACCESS_TOKEN` ва сипас иҷро кардани [create.github.coffee](https://github.com/xxai-art/doc/blob/main/create.github.coffee) ба таври худкор анбори кодро эҷод мекунад.

Албатта, шумо инчунин метавонед онро дар як пойгоҳи код ҷойгир кунед.

Истиноди скрипти тарҷума [run.sh](https://github.com/xxai-art/doc/blob/main/run.sh)

Рамзи скрипт ба таври зерин тафсир карда мешавад:

[bunx](https://bun.sh/docs/cli/bunx) ивазкунандаи npx аст, ки тезтар аст. Албатта, агар шумо бун насб накарда бошед, шумо метавонед ба ҷои он `npx` истифода баред.

`bunx mdt zh` `.mdt` дар феҳристи zh ҳамчун `.md` пешниҳод мекунад, ба 2 файли алоқаманд дар зер нигаред

* [coffee_plus.mdt](https://github.com/xxai-doc/zh/blob/main/coffee_plus.mdt)
* [coffee_plus.md](https://github.com/xxai-doc/zh/blob/main/coffee_plus.md)

`bunx i18n` рамзи аслӣ барои тарҷума аст (агар шумо танҳо `nodejs` насб карда бошед, аммо `bun` ва `direnv` насб нашудаанд, шумо инчунин метавонед `npx i18n` барои тарҷума иҷро кунед).

Он [i18n.yml -ро](https://github.com/xxai-art/doc/blob/main/i18n.yml) таҳлил мекунад, конфигуратсияи `i18n.yml` дар ин ҳуҷҷат чунин аст:

```
en:
zh: ja ko en
```

Маънои ин аст: тарҷумаи чинӣ ба японӣ, кореягӣ, англисӣ, тарҷумаи англисӣ ба ҳама забонҳои дигар. Агар шумо танҳо хоҳед, ки хитоӣ ва англисиро дастгирӣ кунед, шумо метавонед танҳо `zh: en` нависед.

Охирин [gen.README.coffee](https://github.com/xxai-art/doc/blob/main/gen.README.coffee) аст, ки мундариҷаро байни унвони асосӣ ва субтитрҳои аввали `README.md` ҳар як забон барои тавлиди вуруди `README.md` истихроҷ мекунад. Рамз хеле содда аст, шумо метавонед онро худатон бубинед.

Google API барои тарҷумаи ройгон истифода мешавад. Агар шумо ба Google дастрасӣ надошта бошед, лутфан проксиро танзим ва насб кунед, масалан:

```
export https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:7890
```

Скрипти тарҷума кэши тарҷумашударо дар феҳристи `.i18n` тавлид мекунад, лутфан онро бо `git status` тафтиш кунед ва онро ба анбори код илова кунед, то аз тарҷумаҳои такрорӣ канорагирӣ кунед.

Лутфан ҳар дафъае, ки тарҷумаро тағир диҳед, барои навсозии кэш `bunx i18n` ро иҷро кунед.

Агар матни аслӣ ва тарҷума дар як вақт тағир дода шаванд, кэш ошуфта хоҳад шуд, бинобар ин, агар шумо хоҳед, ки тағир диҳед, шумо метавонед танҳо яктоашро тағир диҳед ва пас барои навсозии кэш `bunx i18n` -ро иҷро кунед.
